ros-noetic-openhrp3 (3.1.10-1buster) buster; urgency=high

  * hrplib/hrpModel
    
      * [hrplib/hrpModel/ForwardDynamicsCBM.cpp] check equation num in solveUnknownAccels (#155 <https://github.com/fkanehiro/openhrp3/issues/155>)
      * [hrplib/hrpModel] Calculation of the mass of a portion of the kinematic chain (#142 <https://github.com/fkanehiro/openhrp3/issues/142>)
        
          * Add calcTotalMass to LinkTraverse
          * Added calcJacobianDot to JointPath
          * Calculation of the spatial velocity
        
      * [hrplib/hrpModel/ModelNodeSet.cpp] change the way to check existence of children field (#139 <https://github.com/fkanehiro/openhrp3/issues/139>)
      * [hrpModel/JointPath.cpp] try to enforce joint limits in calcInverseKinetatics() (#137 <https://github.com/fkanehiro/openhrp3/issues/137>)
      * [hrplib/hrpModel/JointPath.cpp] add local_p arg for calcJacobian (#127 <https://github.com/fkanehiro/openhrp3/issues/127>)
        
          * fix local_p coordinate
          * add local_p arg for calcJacobian
        
    
  * hrplib/hrpPlanner
    
      * [hrplib/hrpPlanner] fix warnings(-Wdelete-incomplete) (#138 <https://github.com/fkanehiro/openhrp3/issues/138>)
      * [hrplib/hrpPlanner/TimeUtil.cpp] add stdint.h to use uint64_t on arm, close #123 <https://github.com/fkanehiro/openhrp3/issues/123> (#124 <https://github.com/fkanehiro/openhrp3/issues/124>)
    
  * hrplib/hrpCollision
    
      * [hrplib/hrpCollision] enable to bypass normal vector correction (#141 <https://github.com/fkanehiro/openhrp3/issues/141>)
      * [hrpCollision] add ColdetModelPair::operator=() (#136 <https://github.com/fkanehiro/openhrp3/issues/136>)
    
  * hrplib/hrpUtil
    
      * [hrplib/hrpUtil/EasyScanner.cpp] Always use locale-free variant of strtod (#144 <https://github.com/fkanehiro/openhrp3/issues/144>)
      * [hrplib/hrpUtil/testEigen3d.cpp] Fix C++11 support (#134 <https://github.com/fkanehiro/openhrp3/issues/134>)
    
  * server/ModelLoader
    
      * [server/ModelLoader/projectGenerator.cpp] write peridoic.rate to conf file (#156 <https://github.com/fkanehiro/openhrp3/issues/156>)
      * [server/ModelLoader/ColladaWriter.h] Apply abs when computing max_torque (#153 <https://github.com/fkanehiro/openhrp3/issues/153>)
      * [server/ModelLoader/ColladaWriter.h] Fix missing return statement (#152 <https://github.com/fkanehiro/openhrp3/issues/152>)
      * [server/ModelLoader] Check if segment node is defined (#135 <https://github.com/fkanehiro/openhrp3/issues/135>)
      * [server/ModelLoader/ColladaWriter.h] Changed ambientcolor (#133 <https://github.com/fkanehiro/openhrp3/issues/133>)
    
  * sample
    
      * [sample/model/sample1_bush.wrl] add comma (#154 <https://github.com/fkanehiro/openhrp3/issues/154>)
    
  * CMake
    
      * [CMakeLists.txt, hrplib/hrpCorba/CMakeLists.txt] add an option COMPILE_PYTHON_STUFF
      * [CMakeLists.txt, cmake_modules/FindOpenRTM.cmake] enable to compile with OpenRTM 1.2.2
      * [CMakeLists.txt, server/ModelLoader/CMakeLists.txt] support newer boost (#146 <https://github.com/fkanehiro/openhrp3/issues/146>)
    
  * [openhrp3.1.pc.in] fix path order in openhrp3.1.pc.in (#129 <https://github.com/fkanehiro/openhrp3/issues/129>)
  * installPackages
    
      * [util]
        
          * add packages.list.ubuntu.20.04
          * add packages.list.debian.9
          * add packages.list.debian.10
          * update package list
          * add packages.list.ubuntu.18.04
        
      * [uril] add a package list for debian7
      * [util/pkg_install_debian.sh] add RTM repository without asking user
      * [uril] install packages without asking user
    
  * Enable GithubAction tests (#155 <https://github.com/fkanehiro/openhrp3/issues/155>)
    
      * noetic does not run test because of missing python3 omniorb
      * [test/test_openhrp3.py] fix python3 error on mixing binary and string
        ```
        raise TypeError("Can't mix strings and bytes in path components") from None
        ```
      * install python3-rosdep if python-rosdep failed
      * try without openrtm-aist-python
      * remove esm repos
      * compile example and JoysticControl in newer openrtm than 1.1.0
        * [sample/controller/CMakeLists.txt] add sample/controller/{SamplePD,SampleHG,SampleLF} when >= OPENRTM_VERSION100  (#150 <https://github.com/fkanehiro/openhrp3/issues/150>)
        * CMake < 3.7 compatibility, see https://github.com/glfw/glfw/issues/1584
        * [sample/CMakeLists.txt] [sample] compile example and JoysticControl in newer openrtm than 1.1.0
      * hrplib/hrpCorba/CMakeLists.txt: fix for Python3
      * patch trusty-hrpsys-util.patch, https://github.com/fkanehiro/hrpsys-base/pull/1308 fails on 14.04
      * add indigo/kinetic, run rosdep update with --include-eol-distros
      * fix for python3: 2to3 -w -f has_key .
      * fix for python3: 2to3 -w -f print .
      * add .github/workflows/config.yml
    
  * TravisCI
    
      * add .travis.yml and create .travis.sh (#149 <https://github.com/fkanehiro/openhrp3/issues/149>)
      * [.travis.yml] update dpkg to install rosdistro in trusty (#143 <https://github.com/fkanehiro/openhrp3/issues/143>)
      * .travis.yml : update to trusty/indigo (#128 <https://github.com/fkanehiro/openhrp3/issues/128>)
    
  * Contributors: Fumio Kanehiro, Iori Kumagai, Jun Inoue, Kei Okada, Mitsuharu Morisawa, Naoki Hiraoka, Pierre Gergondet, Rafael Cisneros, Iori Yanokura, Yasuhiro Ishiguro, Kunio Kojima

 -- Kei Okada <k-okada@jsk.t.u-tokyo.ac.jp>  Thu, 09 Jun 2022 15:00:00 -0000

ros-noetic-openhrp3 (3.1.9-1buster) buster; urgency=high

  * supports OpenRTM-aist 1.2.0 (c04e9293 <https://github.com/fkanehiro/openhrp3/commit/c04e92930af318d6566213dd173c34331eb18898>)
  * supports trunk version of OpenRTM-aist (#104 <https://github.com/fkanehiro/openhrp3/issues/104>)
    * hrplib/{hrpModel/ModelNodeSet.h, TriangleMeshShaper.h} uses signals2 for BOOST_VERSION >= 103900 (#103 <https://github.com/fkanehiro/openhrp3/issues/103>)
  * add configuration for openrtm ver-1.1.2 (#84 <https://github.com/fkanehiro/openhrp3/issues/84>)
  * SUpport ARM64: aarch64(ARMv8) is also 64bit machine (#100 <https://github.com/fkanehiro/openhrp3/issues/100>)
    * hrplib/hrpPlanner/TimeUtil.cpp : fix get_tick() for arm processors (#99 <https://github.com/fkanehiro/openhrp3/issues/99> )
  * Support clang and Fix some memory leaks (conservative fixes only) (#113 <https://github.com/fkanehiro/openhrp3/issues/113>)
  * supports ubuntu 16.04 (2faa042f0 <https://github.com/fkanehiro/openhrp3/commit/2faa042f0ce5e2b8ac6b03c94feb3e95ab076e1d>)
  * CMakeLists.txt: fix to work on Boost 1.34.0 (#89 <https://github.com/fkanehiro/openhrp3/issues/89> )
  * .traivs.yml: add to check if this work with current hrpsys (#70 <https://github.com/fkanehiro/openhrp3/issues/70>)
  * layout python stub to right place (#69 <https://github.com/fkanehiro/openhrp3/issues/69> )
    * idl_py_files to lib/python${python_version}/dist-packages
    * module_py_files to lib/python${python_version}/dist-packages/OpenHRP
    * module_poa_py_files to lib/python${python_version}/dist-packages/OpenHRP__POA
  * installPackages
    * util/installPackages.sh: Fixes on the script (#96 <https://github.com/fkanehiro/openhrp3/issues/96>)Fix the tests on empty strings
    
    Fix shebang for better compatibility
    
      * util/installPackages.sh: fixes a typo (#95 <https://github.com/fkanehiro/openhrp3/issues/95>)
      * util/packages.list.ubuntu.15.04 : adds a package list for ubuntu15.04 (ce8dc77f <https://github.com/fkanehiro/openhrp3/commit/ce8dc77f20f2f755f242b0c8ca3c9af7da278bf9>)
    
  * Fix many compile warning
    * fixes some of warnings detected by -Wall (#118 <https://github.com/fkanehiro/openhrp3/issues/118> )
    * fixes warnings detected by -Wsign-compare / restores return type of calcSRInverse() (#117 <https://github.com/fkanehiro/openhrp3/issues/117>)
    * fixes warnings detected by -Wreorder (#114 <https://github.com/fkanehiro/openhrp3/issues/114>)
    * Reduce Warnings (#102 <https://github.com/fkanehiro/openhrp3/issues/102>)Reorder includes for clang
    Clang doesn't allow the overloaded operator <<= used in the template
    function CORBA_Util::typecode::id() to be declared after that point of
    use.  It seems to be a bug in clang.
    
    Add missing cases
    
    Remove "this != null" checks
    These conditionals are never true in valid C++ programs.
    
    Add abort to "impossible" paths
    
    Add parens to indicate intentional assignment
    
    Fix comparison where it should be assignment
    
    Streamline definition of PI and PI_2
    C++ standard (at least prior to C++11) specifies that static const
    double members cannot be initialized within the class definition.  Move
    the initialization of PI and PI_2 outside the class; also, update
    
    <string>:149: (ERROR/3) Unexpected indentation.
    
    feature test macros to use M_PI and M_PI_2 whenever they're available.
    
    Disambiguate if-else
    
    Fix friend declarations
    friend declarations can't contain default parameters unless the function
    body is defined at the same site.
    
      * hrplib/hrpModel/Body.cpp, ModelLoaderUtil.cpp, fixes warnings (false -> NULL) (#101 <https://github.com/fkanehiro/openhrp3/issues/101>)
    
  * hrplib/hrpModel
    * hrplib/hrpModel/World.h: changes return type of World::numBodies() from int to unsinged int (#116 <https://github.com/fkanehiro/openhrp3/issues/116> )
    * hrplib/hrpModel/{Body.h,JointPath.h,LinkTraverse.h} : changes return types of numXXX() (#115 <https://github.com/fkanehiro/openhrp3/issues/115> )
    * hrplib/hrpModel/Body.cpp: supports slide joints (Link:SLIDE_JOINT) in calcCMJacobian() (7b674f88 <https://github.com/fkanehiro/openhrp3/commit/7b674f88af1100ae0d85bdc6c45cb1f18ae648ea>)
    * hrplib/hrpModel/Body.cpp: fixes a bug in calcInverseKinematics (1ce8d36d7 <https://github.com/fkanehiro/openhrp3/commit/1ce8d36d72685e4bfe92912ec13cced754c0240a>)
    * hrplib/hrpModel/ModelNodeSet.cpp: PROTO Surfaceのあるモデルが読み込めないバグの修正 (#66 <https://github.com/fkanehiro/openhrp3/issues/66>)
  * hrplib/hrpPlanner
    * Extend planner (#112 <https://github.com/fkanehiro/openhrp3/issues/112>, #111 <https://github.com/fkanehiro/openhrp3/issues/111>)removes redundant way point in a path /
    
    changes type of extraConnectionCheckFunc
    
    enables to add an extra connection check between trees
    
    adds == and != operators
    
      * hrplib/hrpPlanner/Algorithm.cpp: adds Algorithm::ignoreCollisionAtStart() and Algorithm::ignoreCollisionAtGoal() (#110 <https://github.com/fkanehiro/openhrp3/issues/110>)
      * hrplib/hrpPlanner/PathPlanner.cpp : Fix bugs, uses attitude() instead of R ( #109 <https://github.com/fkanehiro/openhrp3/issues/109>)
      * hrplib/hrpPlanner/PathPlanner.cpp: outputs debug messages to stderr not to stdout (#108 <https://github.com/fkanehiro/openhrp3/issues/108>)
      * hrplib/hrpPlanner/Algorithm.cpp: makes error messages more informative (#107 <https://github.com/fkanehiro/openhrp3/issues/107>)
    
  * hrplib/hrpCollision
    * hrplib/hrpCollision/Opcode/OPC_Common.h: modifies CreateSSV() to prevent Zero Div.(#106 <https://github.com/fkanehiro/openhrp3/issues/106>)
    * hrplib/hrpCollision/ColdetModel.cpp: 隣接する三角形の判断を修正 (#75 <https://github.com/fkanehiro/openhrp3/issues/75>)
  * hrplib/hrpUtil
    * hrplib/hrpUtil/TriangleMeshShaper.cpp: checks values to prevent NaN (#105 <https://github.com/fkanehiro/openhrp3/issues/105>)
    
      * {hrplib/hrpModel/ModelNodeSet.h, server/ModelLoader/BodyInfo_impl.cpp} uses aligned allocator (b6b03af8 <https://github.com/fkanehiro/openhrp3/commit/b6b03af8c9d122f891d94387a5cbb8c8f00f9ef6>)
      * hrplib/hrpModel: Add angular momentum jacobian (#98 <https://github.com/fkanehiro/openhrp3/issues/98>)
        * [hrplib/hrpModel/Body.cpp,Body.h] Add calcTotalMomentumFromJacobian and calcAngularMomentumJacobian
        * [hrplib/hrpModel/Link.cpp,Link.h] Add subIw (inertia tensor)
      * hrplib/hrpUtil/{Eigen3d.cpp,testEigen3d.cpp}: add the correction of floating point error (#85 <https://github.com/fkanehiro/openhrp3/issues/85>)
        * display input matrix
        * add the correction of floating point error
      * hrplib/hrpUtil/testEigen3d.cpp : add google test for Eigen3d.cpp (#64 <https://github.com/fkanehiro/openhrp3/issues/64>)
    
  * server/ModelLoader
    * server/ModelLoader/ColladaWriter.h: check that a base link and an effector links exist, Fix #93 <https://github.com/fkanehiro/openhrp3/issues/93> (#94 <https://github.com/fkanehiro/openhrp3/issues/94>)
    * server/ModelLoader/exportCollada.cpp: fix help message for adding information of manipulator to collada file, Fix #91 <https://github.com/fkanehiro/openhrp3/issues/91>  (#92 <https://github.com/fkanehiro/openhrp3/issues/92> )
    * server/ModelLoader/BodyInfo_impl.cpp: set default mass properties (#90 <https://github.com/fkanehiro/openhrp3/issues/90>)
    * server/ModelLoader/projectGenerator.cpp: Add outport for root link actual pos and rot. (#81 <https://github.com/fkanehiro/openhrp3/issues/81>)
    * [server/ModelLoader/projectGenerator.cpp, REAME.md] Add integration method (EULER, RUNGE_KUTTA...) argument and update readme (#79 <https://github.com/fkanehiro/openhrp3/issues/79> )
    * server/ModelLoader/projectGenerator.cpp: generating default outport:dq in project file by projectGenerator (#74 <https://github.com/fkanehiro/openhrp3/issues/74>)
    * server/ModelLoader/ModelLoader_impl.cpp: fix ModelLoader to enable the compile without collada (#73 <https://github.com/fkanehiro/openhrp3/issues/73>)
    * server/ModelLoader/ModelLoader_impl.cpp: support PROJECT_DIR in ModelLoader, Fix #55 <https://github.com/fkanehiro/openhrp3/issues/55> (#68 <https://github.com/fkanehiro/openhrp3/issues/68>)
    * server/ModelLoader/ColladaWriter.h: fix for reducing CORBA communication on 32bit machine on models with many shapes (#63 <https://github.com/fkanehiro/openhrp3/issues/63>)
    * server/ModelLoader/README.md: add README.md with options and an example for projectGenerator (#62 <https://github.com/fkanehiro/openhrp3/issues/62>, #60 <https://github.com/fkanehiro/openhrp3/issues/60>)
  * sample
    * [sample/example/customizer/sample1_bush_customizer_param.conf, sample/model/sample1_bush.wrl] Add hand bush for sample1_bush.wrl. Currently do not fix indent to check diff. Update bush parameters. (#82 <https://github.com/fkanehiro/openhrp3/issues/82>)
    * [sample/model/sample_special_joint_robot.wrl] Add sample robot to check special joints (#80 <https://github.com/fkanehiro/openhrp3/issues/80> )
    
      * Fix sample4legrobot conf robot name (#78 <https://github.com/fkanehiro/openhrp3/issues/78>)
        * [sample/model/sample_4leg_robot*.wrl] Fix leg origin pos left/right
        * [sample/example/customizer/sample_4leg_robot_bush_customizer_param.conf] Fix sample4legrobot conf robot name
    
  * Add 4leg robot (#77 )
    
    [sample/example/customizer/CMakeLists.txt] Install bush customizer file for sample_4leg_robot_bush
    
    [sample/model/sample_4leg_robot*, sample/example/customizer/sample_4leg_robot_bush_customizer_param.conf] Add 4legged robot and bush setting
    
      * [sample/model/sample1_bush.wrl,sample1.wrl] Add vlimit for sample1 and sample1_bush (#72 <https://github.com/fkanehiro/openhrp3/issues/72>)
      * Add bush customizer (#71 <https://github.com/fkanehiro/openhrp3/issues/71>)
        * [sample/example/customizer/CMakeLists.txt] Install BUSH_CUSTOMIZER_CONFIG file
        * [sample/example/customizer/sample1*.conf] Add example config file for sample1_bush.wrl param
        * [sample/example/customizer/CMakeLists.txt,sample/example/customizer/bush_customizer.cpp] Add customizer for rubber bush.
        * [sample/model/sample1_bush.wrl] Add sample1 model with rubber bush.
    
  * Contributors: Eisoku Kuroiwa, Fumio Kanehiro, Shizuko Hattori, Jun Inoue, Kei Okada, Mehdi Benallegue, Shin'ichiro Nakaoka, Shunichi Nozawa, Takasugi Noriaki, Yohei Kakiuchi, Yosuke Matsusaka

 -- Kei Okada <k-okada@jsk.t.u-tokyo.ac.jp>  Thu, 16 Feb 2017 15:00:00 -0000

ros-noetic-openhrp3 (3.1.8-1buster) buster; urgency=high

  * IMU
    
      * [sample/model/sample1.wrl] rotate imu mount coordinate for debug
      * [hrplib/hrpModel/ForwardDynamics.cpp] Fix accel sensor frame discussed in https://github.com/fkanehiro/hrpsys-base/issues/472
    
  * modelloader / projectGenerator
    
      * [server/modelLoader] rename export-collada to openhrp-export-collada
      * [server/modelLoader] fix ProjectGenerator to load BodyInfo and create ProjectFiles
      * [server/modelLoader] copy ProjectGenerator from hrpsys-base/util/ProjectGenerator
    
  * export collada
    
      * [export-vrml] add --use-inline-shape option to output separate mesh files
    
  * Solvers
    
      * [Eigen3d.h] use 1.0e-12 instaed of 1.0e-6 for error check
      * [hrplib/hrpUtil/MatrixSolvers] add calcSRInverse
      * [BodyInfoCollada_impl.cpp] fix for wrong collada interpretation,
        joint axis is in child frame
    
  * misc
    
      * [sample/CMakeLists.txt] need to change command name from export-collada to openhrp-export-collada
      * super ugry hack for catkin build
      * Update .travis.yml
      * adds ppa repository without confirmation
      * create symlink for share directory for backword compatibility
      * changes openrtm-aist to openrtm-aist-dev and adds collada-dom-dev
      * changes PPA repository
      * fix problem when environment variable "_" not set
      * add dependency for ubuntu trusty
      * Fix test to match change python stub install location (fixes #36)
      * Change python stub install location (fixes #36)
    

 -- Kei Okada <k-okada@jsk.t.u-tokyo.ac.jp>  Mon, 20 Apr 2015 15:00:00 -0000


